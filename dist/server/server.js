const express=require("express"),bodyParser=require("body-parser"),cors=require("cors"),path=require("path"),db=require("./database"),app=express();app.use(express.static("dist")),app.use(bodyParser.urlencoded({extended:!0})),app.use(bodyParser.json()),app.use(cors());const port=process.env.PORT||5e3;app.listen(port,(()=>{})),app.get("/notebook",((e,s)=>{s.sendFile(path.join(__dirname,"./../index.html"))})),app.get("/check",((e,s)=>{s.send("The server is up..")})),app.post("/add",((e,s)=>{const{body:r}=e;db.insertNote(r),s.sendStatus(200)})),app.get("/getNotesByUsername",(async(e,s)=>{const{username:r}=e.query,a=await db.retrieveNotesByUsername(r);s.send(a)})),app.delete("/deleteNotesByUsername",(async(e,s)=>{const{username:r}=e.body,a=await db.deleteNotesByUsername(r);s.json(a)}));